<!DOCTYPE html>
<head>
    <style>
        .numero {
            border: solid thin black;
            padding: 0.2em;
        }

        .numeroRiga {
            color: gray;
            border: none;
            width: 3em;
            text-align: center;
        }
    </style>
    <script>
        var nrighe = 500;
        var tabella, inputNum, bottone, mostraTutti;

        function makeid(length) {
            var result           = '';
            var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
            var charactersLength = characters.length;
            for ( var i = 0; i < length; i++ ) {
                    result += characters.charAt(Math.floor(Math.random() * 
                charactersLength));
                }
            return result;
        }

        function filtra(p, tutto=false) {
            if (tutto == true) {
                for (var i = 0, row; row = t.rows[i]; i++) {
                    row.style.display = "block";
                }
            }
            else {
                for (var i = 0, row; row = t.rows[i]; i++) {
                    if (row.cells[1].textContent == p) {
                        row.style.display = "block";
                    }
                    else {
                        row.style.display = "none";
                    }
                }
            }
        }

        function creaTabella() {
            for (var i = 0; i < nrighe; i++) {
                var nr = document.createElement("tr");
                tabella.appendChild(nr);

                var nd = document.createElement("td")
                nd.textContent = i + 1;
                nd.classList.add("numeroRiga");
                nr.appendChild(nd);

                var nd = document.createElement("td")
                nd.textContent = Math.floor(Math.random() * 101);
                nd.classList.add("numero");
                nr.appendChild(nd);

                nd = document.createElement("td")
                nd.textContent = makeid(120);
                nd.classList.add("stringa");
                nr.appendChild(nd);
            }
        }
        function main() {
            tabella = document.getElementById("t");
            inputNum = document.getElementById("i");
            bottone = document.getElementById("b");
            mostraTutti = document.getElementById("m");
            
            bottone.addEventListener("click", ()=> {
                filtra(inputNum.value);
            });

            mostraTutti.addEventListener("click", ()=> {
                filtra(0, true);
            });
            creaTabella();
        }
    </script>
</head>
<body onload="main()">
    <input type="number" id="i" placeholder="Numero da filtrare">
    <input type="button" id="b" value="Filtra">
    <input type="button" id="m" value="Mostra tutti">
    <table id="t"></table>
</body>